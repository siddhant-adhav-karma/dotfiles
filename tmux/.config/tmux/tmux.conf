# ---------------------------
# TMUX CONFIG
# ---------------------------

# --- Prefix key ---
unbind C-b
set -g prefix `
bind ` send-prefix

# --- Pane navigation ---
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# --- Resize panes ---
bind -r C-h resize-pane -L 5
bind -r C-j resize-pane -D 2
bind -r C-k resize-pane -U 2
bind -r C-l resize-pane -R 5

bind C-z resize-pane -Z  # toggle zoom

# --- Split windows ---
bind | split-window -h
bind - split-window -v

# --- Unbind defaults ---
unbind '"'
unbind %

# --- Kill pane with confirmation ---
bind x confirm-before -p "kill-pane ? (y/n)" kill-pane

# --- Terminal & color support ---
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:RGB,tmux-256color:RGB"

# --- Ensure tmux inherits UTF-8 locale from shell ---
# Modern tmux defaults to UTF-8, just make sure your shell locale is correct:
# export LANG=en_IN.UTF-8
# export LC_ALL=en_IN.UTF-8
set -g update-environment "DISPLAY SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY LANG LC_ALL LC_CTYPE"

# --- Pane / window indexing ---
set -g base-index 1
setw -g pane-base-index 1

# --- Plugins ---
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'catppuccin/tmux'
set -g @catppuccin_flavour 'mocha'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'jaclu/tmux-menus'

# --- Catppuccin window status settings ---
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_text "#W"
set -g @catppuccin_window_text "#W"

# --- Initialize TPM (keep this at the very bottom) ---
run-shell ~/.config/tmux/plugins/tpm/tpm
